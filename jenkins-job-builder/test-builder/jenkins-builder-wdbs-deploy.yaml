- job:
    name: jenkins-builder-WDBS-deploy
    project-type: pipeline
    sandbox: true
    parameters:
      - maven-metadata:
          name: 'DBS_VERSION'
          repository-base-url: 'http://artifactory.dev.whirl.sg/artifactory/QA'
          artifact-group-id: 'com.whirl'
          artifact-id: 'wdbs'
          packaging: 'tgz'
          versions-filter: '^.*dbs.*'
          default-value: 'FIRST'
          maximum-versions-to-display: "5"
          sorting-order: "Ascending"
      - string:
          name: DEVOPS_BR
          default: '${DEFAULT_DEVOPS_BRANCH}'
      - string:
          name: DBS_LICENSE
          default: 'f319-97ba-9845-b492-1f43-5651-6a4e-daba'
      - active-choice:
          project: 'jenkins-builder-WDBS-deploy'
          name: CASCADE_CHOICE
          script: |
            return ['foo:selected', 'bar']
          description: "A parameter named CASCADE_CHOICE which options foo and bar."
          visible-item-count: 1
          fallback-script: |
            return ['Something Wrong']
          reference: STR_PARAM
          choice-type: single
      - choice:
          name: project
          choices:
            - nova
            - glance
      - extended-choice:
          name: OPTIONS
          description: "Available options"
          type: 'single-select'
          groovyscript: "['optionA', 'optionB']"
    pipeline-scm:
      scm:
        - git:
            url: http://git-cache.dev.whirl.sg:9909/bitbucket.org/whirlsoftware/whirl_devops
            credentials-id: '87657576578657685'
            branches:
              -  '*/${DEVOPS_BR}'
      script-path: 'pipelines/WDBS_DEPLOY/Jenkinsfile'



# https://pypi.python.org/pypi/jenkins-job-builder-active-choice
# https://github.com/bgaifullin/jenkins-job-builder-active-choice/issues/1  It doesn't work for JBB 2.0.0
